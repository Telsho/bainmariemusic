/* styles.css - Updated for Video */

:root {
  /* --bg-color: #ffe9fb; */
  --bg-color: #ffff; /* Using white */
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

.hide {
  display: none !important; /* Utility class to force hiding */
}

body {
  height: 100vh;
  overflow: hidden; /* Prevent body scrollbars */
  position: relative;
  background: var(--bg-color);
  cursor: url('Bathrtubcursor.png'), auto;

  /* --- Flexbox Centering (Crucial) --- */
  display: flex;
  /* These two center the .map-container IF it's smaller than the body */
  justify-content: center; /* Centers horizontally */
  align-items: center;   /* Centers vertically */

  /* Add small padding to prevent container sticking to edges */
  padding: 5px;
  box-sizing: border-box; /* Include padding in height calculation */
}

#splash {
  position: absolute;
  inset: 0; /* Covers entire viewport */
  z-index: 999; /* Highest layer */
  background: var(--bg-color);
  display: grid; /* Simple centering for content */
  place-items: center;
}

#splash img { /* Assuming splash might still use images */
  cursor: pointer;
}

a {
  color: black; /* Basic link styling */
}

/* --- Base Button Styling --- */
button {
  box-shadow: none;
  border: 2px solid black;
  border-top: 0;
  margin-top: 0;
  padding: 1.2em 1em .5em;
  font-family: 'Verdana', sans-serif;
  font-weight: normal;
  font-size: 15px;
  background: var(--bg-color);
  cursor: pointer; /* Should be overridden by body cursor, but good fallback */
  transform: translateY(-.8em); /* Initial "raised" state */
  transition: transform .5s ease;
}

button:hover {
  transform: translateY(0); /* Lower on hover */
}

/* --- Map Container --- */
.map-container {
  /* --- Define Aspect Ratio --- */
  aspect-ratio: 972 / 886; /* Target shape */

  /* --- Responsive Sizing based on Viewport --- */
  width: min(95vw, calc(95vh * (972 / 886)));

  /* Height is determined automatically by width + aspect-ratio */
  height: auto;

  /* --- Maximum Size Constraints --- */
  max-width: min(972px, 95vw);
  max-height: min(886px, 95vh);

  /* --- Centering & Layout --- */
  margin: auto;
  position: relative;
  user-select: none;
  overflow: hidden; /* Still needed initially */
}

#map {
  width: 100%;
  height: 100%; /* Needs to be 100% to fill the container */
  cursor: grab; /* Will be overridden when contact view is active */
  position: relative;
  user-select: none;
}

/* --- Main Animated Video --- */
/* === UPDATED SELECTOR: Changed from img#home-animated to video#home-animated === */
#map video#home-animated {
  display: block;
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;      /* Make video fill the #map container */
  height: 100%;     /* Make video fill the #map container */
  object-fit: cover;/* Ensure video covers the area, cropping if aspect ratio differs */
  z-index: 5;       /* Base layer within #map */

  /* Animation properties */
  transition: transform 2s ease-out, opacity 2s ease-out;
  transform-origin: center center;
  pointer-events: auto; /* Allow mouse events on the video */
}


/* --- Hover Overlays (Positioned above Video) --- */
/* These remain images */
#music-hover-overlay,
#merch-hover-overlay,
#contact-hover-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 15; /* Above base video */
  display: none; /* Hidden initially, shown by JS */
  pointer-events: none; /* Allow clicks/hovers to pass through to the video */
}

/* --- CONTACT INFO SECTION --- */
#contact-info {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%); /* Center horizontally and vertically */
  text-align: center;
  /* Positioned logically "behind" the video when it's visible */
  z-index: 2;
  /* Opacity/Visibility are NOT used here - it's always present, just covered */
}

#contact-info p {
  margin: 0 0 20px 0;
  font-size: 1.2em;
  font-family: 'Verdana', sans-serif;
}

/* --- Back Button Specific Styles --- */
#back-button {
  font-size: 0.75em;
  border: 0px solid #ccc;
  color: #000;
  margin-top: 15px;
  /* Inherits transform/transition from base button */
}


/* --- Animation States (Added/Removed via JS) --- */

/* State applied to VIDEO to make it animate away */
/* === UPDATED SELECTOR and CLASS NAME for clarity === */
#home-animated.gif-animate-forward { /* Kept class name for simplicity, applies to video now */
  transform: translateX(150vw) rotate(420deg); /* Move far off screen and rotate */
  opacity: 0; /* Fade out completely during animation */
  pointer-events: none; /* Prevent interaction while animating/off-screen */
}

/* State applied to container when contact info is revealed */
.map-container.contact-view-active {
    cursor: default !important; /* Ensure default cursor */
}
/* Hide hover overlays when contact view is active */
.map-container.contact-view-active #music-hover-overlay,
.map-container.contact-view-active #merch-hover-overlay,
.map-container.contact-view-active #contact-hover-overlay {
    display: none !important;
}
/* Ensure map cursor is also default */
.map-container.contact-view-active #map {
    cursor: default !important;
}
/* === Ensure video cursor doesn't interfere === */
.map-container.contact-view-active #map video#home-animated {
    cursor: default !important;
    pointer-events: none; /* Make sure clicks don't register on video when contact shown */
}


/* Panning Disabled State (If you were using it - kept for reference) */
.panning-disabled {
  cursor: default !important; /* Override grab cursor */
}
.panning-disabled #map {
   cursor: default !important; /* Ensure map cursor matches */
}


/* --- REDUCED MOTION PREFERENCES --- */
@media (prefers-reduced-motion) {
  /* Removed static image logic as it's less relevant for video */

  /* Disable transitions on relevant elements */
  /* === UPDATED SELECTOR === */
  #home-animated, /* Targets the video now */
  button { /* Includes #back-button */
    transition: none !important;
  }

  /* Change animation to simple hide instead of transform */
  /* === UPDATED SELECTOR === */
  #home-animated.gif-animate-forward { /* Class now applied to video */
      transform: none; /* Prevent movement */
      opacity: 0; /* Just fade out */
      pointer-events: none; /* Still needed */
   }
}